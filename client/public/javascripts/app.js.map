{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/view_collection.coffee","app/router.coffee","app/views/app_view.coffee","app/views/templates/mockup_accounts.jade","app/views/templates/mockup_balance.jade"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1GA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA","sourcesContent":["module.exports =\n\n    initialize: ->\n        # Used in inter-app communication\n        #SocketListener = require '../lib/socket_listener'\n\n        # Routing management\n        Router = require 'router'\n        @router = new Router()\n        Backbone.history.start()\n\n        # Makes this object immuable.\n        Object.freeze this if typeof Object.freeze is 'function'","app = require 'application'\n\n# The function called from index.html\n$ ->\n    require 'lib/app_helpers'\n\n    app.initialize()","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    itemViewOptions: ->\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        if not @collectionEl?\n            collectionEl = el\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $(@collectionEl)\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}, @itemViewOptions(model)\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views","AppView = require 'views/app_view'\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        '': 'main'\n        'accounts': 'accounts'\n\n    main: ->\n        mainView = new AppView()\n        mainView.render()\n\n    accounts: ->\n        accountsView = new AppView()\n        accountsView.template = require('./views/templates/mockup_accounts')\n        accountsView.render()","BaseView = require '../lib/base_view'\n\nmodule.exports = class AppView extends BaseView\n\n    template: require('./templates/mockup_balance')\n    el: 'body.application'\n\n    afterRender: ->\n    \t$('.content-right-column').niceScroll()\n\n",".navbar.navbar-fixed-top.navbar-inverse\n  .container\n    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.nav-collapse')\n      span.icon-bar\n      span.icon-bar\n      span.icon-bar\n    span.navbar-brand Cozy PFM\n    .nav-collapse.collapse\n      ul.nav.navbar-nav\n        li\n          a#menu-pos-balance(href='#') Balance\n        li.active\n          a#menu-pos-accounts(href='#accounts') Accounts\n        li\n          a#menu-pos-new-bank(data-toggle='modal', href='#add-bank-window') Add a new bank\n\n      ul.nav.navbar-nav.pull-right\n        p.navbar-text\n          | overall balance \n          span#total-amount +12967.72\n\n#content.container\n  .row.content-background\n    .col-lg-12.content-right-column\n      .group-bank\n        h2 Le Crédit Lyonnais\n          a.btn.btn-danger.pull-right remove this bank from Cozy\n        table.table-accounts.table.table-striped.table-hover.table-bordered\n          tbody\n            tr\n              td.account-title Compte bancaire\n              td.operation-amount\n                span.pull-right\n                  a.btn.btn-small.btn-warning.pull-right remove this account from Cozy forever\n      .group-bank\n        h2 Société Générale\n          a.btn.btn-danger.pull-right remove this bank from Cozy\n        table.table-accounts.table.table-striped.table-hover.table-bordered\n          tbody\n            tr\n              td.account-title Compte bancaire 1\n              td.operation-amount\n                span.pull-right\n                  a.btn.btn-small.btn-warning.pull-right remove this account from Cozy forever\n            tr\n              td.account-title Compte bancaire 2\n              td.operation-amount\n                span.pull-right\n                  a.btn.btn-small.btn-warning.pull-right remove this account from Cozy forever\n\n\n  #add-bank-window.modal\n    .modal-dialog\n      .modal-content\n        .modal-header\n          button.close(type='button', data-dismiss='modal', aria-hidden='true') x\n          h4.modal-title Add a new bank\n        .modal-body\n          form\n            fieldset\n              legend Bank\n              .form-group\n                select.form-control\n                  option Le Crédit Lyonnais\n                  option Société Générale\n            fieldset\n              legend Credentials\n              .form-group\n                label(for='inputLogin') Login\n                input#inputLogin.form-control(type='text', placeholder='enter login')\n              .form-group\n                label(for='inputPass') Password\n                input#inputPass.form-control(type='password', placeholder='enter password')\n          h3.important-notice Security notice\n          p\n            | In order to protect our customers, we implemented the best solutions.\n          p\n            | We are great, because ...\n        .modal-footer\n          a.btn.btn-link(data-dismiss='modal',href='#') cancel\n          a.btn.btn-success(href='#') Verify & Save\n\n  //.row#foot\n    .col-lg-12\n      p.text-muted\n        | Click here to read about \n        a(href='#') our highest security standards\n      p.text-muted.pull-right\n        a(href='http://cozycloud.cc') CozyCloud.cc \n        | - the cloud you own.",".navbar.navbar-fixed-top.navbar-inverse\n  .container\n    button.navbar-toggle(type='button', data-toggle='collapse', data-target='.nav-collapse')\n      span.icon-bar\n      span.icon-bar\n      span.icon-bar\n    span.navbar-brand Cozy PFM\n    .nav-collapse.collapse\n      ul.nav.navbar-nav\n        li.active\n          a#menu-pos-balance(href='#') Balance\n        li\n          a#menu-pos-accounts(href='#accounts') Accounts\n        li\n          a#menu-pos-new-bank(data-toggle='modal', href='#add-bank-window') Add a new bank\n\n      ul.nav.navbar-nav.pull-right\n        p.navbar-text\n          | overall balance \n          span#total-amount +12967.72\n\n#content.container\n  .row.content-background\n    .col-lg-4.content-left-column\n\n      .row.accounts-top\n        .col-lg-8\n          p.pull-left Le Crédit Lyonnais\n        .col-lg-4\n          p.pull-right +12942.23 \n            span.euro-sign &euro;\n      .row.accounts-sub\n        .col-lg-8\n          p.pull-left Compte bancaire\n        .col-lg-4\n          p.pull-right +12942.23 \n            span.euro-sign &euro;\n\n      .row.accounts-top.active\n        .col-lg-8\n          p.pull-left Société Générale\n        .col-lg-4\n          p.pull-right +25.49 \n            span.euro-sign &euro;\n      .row.accounts-sub\n        .col-lg-8\n          p.pull-left Compte bancaire 1\n        .col-lg-4\n          p.pull-right +26.49 \n            span.euro-sign &euro;\n      .row.accounts-sub\n        .col-lg-8\n          p.pull-left Compte bancaire 2\n        .col-lg-4\n          p.pull-right -1.00 \n            span.euro-sign &euro;\n\n\n\n    .col-lg-8.content-right-column\n      h2 Société Générale\n\n      table#table-operations.table.table-striped.table-hover\n        tbody\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title Ferrari Paris\n            td.operation-amount\n              span.pull-right -490550.00\n          tr.success\n            td.operation-date 17/07/2013\n            td.operation-title CB Tesco\n            td.operation-amount\n              span.pull-right.positive-balance +123.30\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -12.90\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title Ferrari Paris\n            td.operation-amount\n              span.pull-right -490550.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Apple\n            td.operation-amount\n              span.pull-right - 1899.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -1.23\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -25.39\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -0.12\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title Ferrari Paris\n            td.operation-amount\n              span.pull-right -490550.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Apple\n            td.operation-amount\n              span.pull-right - 1899.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -1.23\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -25.39\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -0.12\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Apple\n            td.operation-amount\n              span.pull-right - 1899.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -1.23\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -25.39\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -0.12\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title Ferrari Paris\n            td.operation-amount\n              span.pull-right -490550.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Apple\n            td.operation-amount\n              span.pull-right - 1899.00\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -1.23\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -25.39\n          tr\n            td.operation-date 17/07/2013\n            td.operation-title CB Intermarché\n            td.operation-amount\n              span.pull-right -0.12\n\n  #add-bank-window.modal\n    .modal-dialog\n      .modal-content\n        .modal-header\n          button.close(type='button', data-dismiss='modal', aria-hidden='true') x\n          h4.modal-title Add a new bank\n        .modal-body\n          form\n            fieldset\n              legend Bank\n              .form-group\n                select.form-control\n                  option Le Crédit Lyonnais\n                  option Société Générale\n            fieldset\n              legend Credentials\n              .form-group\n                label(for='inputLogin') Login\n                input#inputLogin.form-control(type='text', placeholder='enter login')\n              .form-group\n                label(for='inputPass') Password\n                input#inputPass.form-control(type='password', placeholder='enter password')\n          h3.important-notice Security notice\n          p\n            | In order to protect our customers, we implemented the best solutions.\n          p\n            | We are great, because ...\n        .modal-footer\n          a.btn.btn-link(data-dismiss='modal',href='#') cancel\n          a.btn.btn-success(href='#') Verify & Save\n\n  //.row#foot\n    .col-lg-12\n      p.text-muted\n        | Click here to read about \n        a(href='#') our highest security standards\n      p.text-muted.pull-right\n        a(href='http://cozycloud.cc') CozyCloud.cc \n        | - the cloud you own."]}